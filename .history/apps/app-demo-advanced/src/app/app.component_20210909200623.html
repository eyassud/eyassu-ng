<form [formGroup]="formGroup" *ngIf="{
  destinationSink: viewModel.sinks?.destinationSink$ | async,
  travelTypeSink: viewModel.sinks?.travelTypeSink$ | async,
  explanationSink: viewModel.sinks?.explanationSink$ | async,
  toastMessagesSink: viewModel.sinks?.toastMessagesSink$ | async,
  destinationSource: viewModel.sources?.destinationSource$ | async,
  travelTypeSource: viewModel.sources?.travelTypeSource$ | async,
  explanationSource: viewModel.sources?.explanationSource$ | async,
  travelRequirementsSink: viewModel.sinks?.travelRequirementsSink$ | async
} as vm">
  <div class="container">

    <div class="pt-20 pl-32">
      <h3 class="container-label italic">Angular - Reusable Reactive Components</h3>

      <div class="border-2 border-grey-200 m-5 p-5 rounded">
        <ng-container *ngIf="vm.travelTypeSink">
          <eyassu-ng-choice formControlName="travelType"></eyassu-ng-choice>
        </ng-container>

        <ng-container *ngIf="vm.destinationSink">
          <eyassu-ng-drop-down formControlName="destination"></eyassu-ng-drop-down>
        </ng-container>

        <ng-container *ngIf="vm.travelRequirementsSink">
          <eyassu-ng-travel-requirements formControlName="travelRequirements"></eyassu-ng-travel-requirements>
        </ng-container>

        <ng-container *ngIf="vm.explanationSink">
          <eyassu-ng-text-area formControlName="explanation"></eyassu-ng-text-area>
        </ng-container>

        <div class="ml-10 mt-10 border-t pt-5 border-grey-200">
          <button type="submit" class="btn" [disabled]="!formGroup.valid" (click)="onSaveForm()"
            [ngClass]="{'btn-disabled' : !formGroup.valid}">Save</button>
          <button type="button" class="btn" (click)="onResetForm()" [disabled]="formGroup.pristine"
            [ngClass]="{'btn-disabled' : formGroup.pristine}">Clear</button>
        </div>

        <div class="ml-10 mt-10 text-sm" *ngIf="vm.travelTypeSink">
          <code>Valid: {{ formGroup.valid | json}}</code><br />
          <code>Touched: {{ formGroup.touched | json}}</code><br />
          <code>Dirty: {{ formGroup.dirty | json}}</code>
        </div>
      </div>

    </div>
  </div>

</form>
<p-toast position="top-left" key="tl"></p-toast>
